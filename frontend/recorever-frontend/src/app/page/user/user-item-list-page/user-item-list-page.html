<div class="item-list-page">
  <header class="item-list-page__header">
    <h1 class="item-list-page__title">{{ pageTitle() }}</h1>
    <div class="item-list-page__search-wrapper">
      <div class="search-section">
      <app-search-bar
        [suggestions]="searchSuggestions()"
        (queryChange)="onQueryChange($event)"
        (search)="onSearchSubmit($event)">
      </app-search-bar>
    </div>
    </div>

    <div class="item-list-page__toggle-wrapper">
      <button
        type="button"
        class="toggle-button"
        [class.toggle-button--active]="!showResolved()"
        (click)="toggleStatus(false)">
        {{ itemType() === 'found' ? 'Unclaimed Items' : 'Unresolved Items' }}
      </button>
      <button
          type="button"
          class="toggle-button"
          [class.toggle-button--active]="showResolved()"
          (click)="toggleStatus(true)">
          {{ itemType() === 'found' ? 'Claimed Items' : 'Resolved Items' }}
      </button>
    </div>
  </header>

  <app-filter
    [locations]="locationFilters"
    [itemType]="itemType()"
    (filterChange)="onFilterChange($event)">
  </app-filter>

  <div class="item-list-page__content">
    @if (allReports().length > 0) {
      <app-report-item-grid
        [items]="visibleReports()"
        [currentUserId]="currentUserId()"
        (cardClicked)="onCardClick($event)"
        (cardTicketClicked)="onTicketClick($event)"
        (cardEditClicked)="onEditClick($event)"
        (cardDeleteClicked)="onDeleteClick($event)"
        (cardViewCodeClicked)="onViewCodeClick($event)">
      </app-report-item-grid>
    }
